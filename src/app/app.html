<div class="scene">
  <!-- PANTALLA DE BIENVENIDA -->
  <div class="welcome-screen" *ngIf="showWelcome">
    <div class="welcome-box">
      <h1 class="welcome-title">ğŸ’• Recuerdos Especiales ğŸ’•</h1>
      <p class="welcome-text">
        EstÃ¡s a punto de ver algo muy especial.<br>
        Â¿Quieres continuar?
      </p>
      <div class="welcome-buttons">
        <button class="btn-start" (click)="startContent()">SÃ­, quiero verlo â¤ï¸</button>
      </div>
    </div>
  </div>

  <!-- CONTENIDO PRINCIPAL (solo se muestra despuÃ©s de aceptar) -->
  <ng-container *ngIf="contentStarted">
    <!-- BotÃ³n de control de mÃºsica -->
    <button class="music-control" (click)="toggleMusic(); $event.stopPropagation()">
      {{ isMusicPlaying ? 'ğŸ”Š' : 'ğŸ”‡' }}
    </button>

    <!-- SECCIÃ“N PRINCIPAL -->
    <div class="story" *ngIf="currentSection === 'main'">
      <h1 class="title">Â¿Te acuerdas cuando nos conocimos?</h1>
      <p class="text">
        Ese momento cambiÃ³ todo, sin que lo supiÃ©ramos.
      </p>
      
      <div class="main-buttons">
        <button class="btn-main-yes" (click)="onMainAnswer(true)">SÃ­ â¤ï¸</button>
        <button class="btn-main-no" (click)="onMainAnswer(false)">No</button>
      </div>
    </div>

    <!-- SECCIÃ“N "SÃ" -->
    <div class="story story-yes" *ngIf="currentSection === 'yes'">
      <!-- PRIMER TEXTO (10 segundos) -->
      <div *ngIf="showFirstText" class="first-text-section" [class.fading]="isTextFading">
        <h1 class="title">Gracias por recordar â¤ï¸</h1>
        <div class="text-container">
          <p class="text-line">El tiempo que pasÃ© contigo fue Ãºnico,</p>
          <p class="text-line">los momentos y pelÃ­culas que vimos</p>
          <p class="text-line">serÃ¡n inolvidables para mÃ­.</p>
          <p class="text-line">SÃ© que es el dÃ­a de los inocentes,</p>
          <p class="text-line">pero son reales los sentimientos</p>
          <p class="text-line">y momentos que pude vivir gracias a ti.</p>
          <p class="text-line">Espero que esto pueda significar algo para ti,</p>
          <p class="text-line">ya que sÃ© que estarÃ¡s muy ocupada en estos dÃ­as</p>
          <p class="text-line">y el esperar el tiempo para poder estar</p>
          <p class="text-line">de nuevo contigo se harÃ¡ muy largo y doloroso.</p>
        </div>
      </div>

      <!-- SEGUNDO TEXTO (despuÃ©s de 15 segundos) -->
      <div *ngIf="showSecondText" class="second-text-section">
        <h1 class="title">Un viaje inolvidable âœ¨</h1>
        <div class="text-container">
          <p class="text-line">Fueron muchas pelÃ­culas y momentos que vivÃ­ gracias a ti,</p>
          <p class="text-line">pude ser mejor persona y crecer contigo,</p>
          <p class="text-line">pude acompaÃ±arte en los buenos y malos momentos,</p>
          <p class="text-line">y a pesar de todo espero poder ser especial para ti.</p>
          <p class="text-line">Un largo viaje hasta acÃ¡ seÃ±orita,</p>
          <p class="text-line">un gusto que seas tÃº la persona que conocÃ­.</p>
        </div>

        <div class="screenshot-message">
          <p class="screenshot-text">ğŸ“¸ Manda captura de esto si llegaste hasta acÃ¡ ğŸ“¸</p>
        </div>
      </div>
    </div>

    <!-- SECCIÃ“N "NO" -->
    <div class="story story-no" *ngIf="currentSection === 'no'">
      <h1 class="title">{{ getNoMessage() }}</h1>
      <p class="text">
        Por favor, intÃ©ntalo de nuevo...
      </p>
      
      <div class="main-buttons">
        <button 
          class="btn-main-yes" 
          (click)="onMainAnswer(true)"
          [style.transform]="'scale(' + yesButtonScale + ')'"
          [style.transition]="'transform 0.3s ease'">
          SÃ­ â¤ï¸
        </button>
        <button 
          *ngIf="shouldShowNoButton()"
          class="btn-main-no" 
          (click)="onMainAnswer(false)"
          [style.transform]="'scale(' + noButtonScale + ')'"
          [style.transition]="'transform 0.3s ease'">
          No
        </button>
      </div>
    </div>

    <div class="rain" *ngIf="showRain">
      <div 
        *ngFor="let drop of rainDrops; trackBy: trackByDrop"
        class="rain-drop"
        [style.left.%]="drop.left"
        [style.top.px]="-300"
        [style.width.px]="drop.width"
        [style.height.px]="drop.height"
        [style.animation-duration.s]="drop.duration"
        [style.background-image]="'url(assets/img/' + drop.imgNumber + '.jpg)'"
      ></div>
    </div>
  </ng-container>
</div>
